{% extends 'core/base.html' %}
{% load static %}
{% block content %}
  <div class="bg-sky-100 flex flex-col items-center min-h-screen py-2 px-2 gap-2">
    <div class="bg-white flex flex-col rounded-lg w-full max-w-2xl p-4 shadow-2xl">
      <div class="mb-4">
        <p class="font-bold text-xl">¡Bienvenido al Sistema de Pedidos de Mapis!</p>
      </div>
      <div class="mb-3">
        <p class="text-sm font-bold py-1">Ingrese sus datos para iniciar y consultar sus pedidos</p>
      </div>
      <form hx-post="{% url 'representative-create' %}" class="flex flex-col gap-1 mb-4" hx-target="#order">
        {% csrf_token %}
        <input type="hidden" name="event" value="{{ event }}" />
        <div class="flex gap-1">
          <select class="bg-gray-100 border border-gray-200 p-2.5 text-xs font-semibold rounded-md w-full flex-1" name="phone_code">
            <option value="58">+58</option>
          </select>
          <input class="bg-gray-100 border border-gray-200 p-2.5 text-xs font-semibold rounded-md w-full flex-4" type="text" pattern="[4][1-2][0-9]+" minlength="10" maxlength="10" name="phone_number" placeholder="4123456789" title="Por favor ingrese su número de teléfono Ej. 4123456789" required />
        </div>
        <div class="flex gap-1">
          <input class="bg-gray-100 border border-gray-200 p-2.5 text-xs font-semibold rounded-md w-full" type="text" name="first_name" placeholder="Nombre" required />
          <input class="bg-gray-100 border border-gray-200 p-2.5 text-xs font-semibold rounded-md w-full" type="text" name="last_name" placeholder="Apellido" required />
        </div>
        <button class="text-xs font-bold py-2 px-3 bg-sky-600 text-white w-full rounded-md cursor-pointer transition-colors">Iniciar pedido</button>
      </form>
      <div id="order"></div>
    </div>
  </div>
  <div class="fixed top-0 bottom-0 left-0 right-0 bg-black/50 backdrop-blur-md flex items-center justify-center" id="student-confirm-delete" onclick="$(this).hide()" style="display: none;"></div>

  {% if messages %}
    <div class="fixed bottom-4 z-10 flex justify-center w-full" id="messages">
      {% for message in messages %}
        <div class="flex gap-2 items-center bg-white p-3 rounded-md border border-green-800">
          <svg class="fill-green-700" width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM16.0303 8.96967C16.3232 9.26256 16.3232 9.73744 16.0303 10.0303L11.0303 15.0303C10.7374 15.3232 10.2626 15.3232 9.96967 15.0303L7.96967 13.0303C7.67678 12.7374 7.67678 12.2626 7.96967 11.9697C8.26256 11.6768 8.73744 11.6768 9.03033 11.9697L10.5 13.4393L12.7348 11.2045L14.9697 8.96967C15.2626 8.67678 15.7374 8.67678 16.0303 8.96967Z" fill=""></path>
            </g>
          </svg>
          <p class="font-semibold text-sm text-green-800">{{ message }}</p>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
